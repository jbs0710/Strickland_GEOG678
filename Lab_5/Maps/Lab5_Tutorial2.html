<!DOCTYPE html>
<html>
  <head>
    <title>Lab 5 - Tutorial 2 - James Strickland</title>

    <!-- Include Leaflet CSS file in the head section of your document-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />

    <!-- Include Leaflet JavaScript file after Leafletâ€™s CSS-->
    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <!-- Also, we need to tell the mobile browser to disable unwanted scaling of the page and set it to its actual size by placing the following line in the head section or our HTML page -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <!-- The Lab 5 document stated to do 180px but it was too small on my computer monitor so I changed it in size to 450px-->
    <!-- Make sure the map container has a defined height, for example by setting it in CSS-->
    <style>
        body {
          padding: 0;
          margin: 0;
      }
      html, body, #map { height: 450px; }
    </style>
  </head>
  <body>
    <!-- Put a div element with a certain id where you want your map to be-->
    <div id="map"></div>
    <script>
      
    
	var map = L.map('map').fitWorld();

    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
    }).addTo(map);

    map.locate({setView: true, maxZoom: 16});

    function onLocationFound(e) {
      var radius = e.accuracy / 2;

      L.marker(e.latlng).addTo(map)
      .bindPopup("You are within " + radius + " meters from this point").openPopup();

      L.circle(e.latlng, radius).addTo(map);
      }

    map.on('locationfound', onLocationFound);

    function onLocationError(e) {
    alert(e.message);
    }

    map.on('locationerror', onLocationError);


      </script>
   </body>
   
</html>


